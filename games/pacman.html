<html>

<head>
    <title> Pacman Game </title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>


</head>

<body>

    <div id='container'>

        <div class='row'>

            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>


        </div>

        <div class='row'>

            <div class='brick'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='brick'></div>

        </div>

        <div class='row'>

            <div class='brick'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='empty'></div>
            <div class='empty'></div>
            <div class='empty'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='brick'></div>
        </div>

        <div class='row'>

            <div class='brick'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='brick'></div>

        </div>

        <div class='row'>

            <div class='brick'></div>
            <div class='coin'></div>
            <div class='empty'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='brick'></div>

        </div>

        <div class='row'>

            <div class='brick'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='brick'></div>

        </div>


        <div class='row'>

            <div class='brick'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='pacman2'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='coin'></div>
            <div class='brick'></div>

        </div>


        <div class='row'>

            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>
            <div class='brick'></div>

        </div>
    </div>

    <script type="text/javascript">

        var myVar

        var world = [
            [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
            [2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2],
            [2, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 2],
            [2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 2],
            [2, 1, 2, 2, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 2],
            [2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 2],
            [2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 1, 1, 1, 1, 1, 1, 1, 1, 2],
            [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]
        ];

        var pacmanPositionx
        var pacmanPositiony

        function displayWorld() {

            var output = ""

            for (var i = 0; i < world.length; i++) {

                output += '\n <div class="row">';

                for (var j = 0; j < world[i].length; j++) {

                    if (world[i][j] == 2) {
                        output += '\n\t<div class="brick"></div>';
                    }

                    if (world[i][j] == 1) {
                        output += '\n\t<div class="coin"></div>';
                    }
                    if (world[i][j] == 0) {
                        output += '\n\t<div class="empty"></div>';
                    }

                    if (world[i][j] == 4) {
                        pacmanPositionx = j
                        pacmanPositiony = i
                        output += '\n\t<div class="pacmanRight"></div>';
                    }

                    if (world[i][j] == 5) {
                        pacmanPositionx = j
                        pacmanPositiony = i
                        output += '\n\t<div class="pacmanLeft"></div>';
                    }

                    if (world[i][j] == 6) {
                        pacmanPositionx = j
                        pacmanPositiony = i
                        output += '\n\t<div class="pacmanUp"></div>';
                    }

                    if (world[i][j] == 7) {
                        pacmanPositionx = j
                        pacmanPositiony = i
                        output += '\n\t<div class="pacmanDown"></div>';
                    }

                }
                output += '\n </div>';


            }

            document.getElementById('container').innerHTML = output;



        }

        displayWorld();

        //function to move pacman
        function movePacman(moveTo, x, y) {

            //Right
            if (x < 18 && world[y][x + 1] != 2 && moveTo == 68) {

                    
                    world[y][x+1] = 4
                    world[y][x] = 0
                    pacmanPositiony = pacmanPositiony + 1
                    //sleep(250);
                
            }
            //Left
            if (x > 1 && world[y][x - 1] != 2 && moveTo == 65) {
                console.log(pacmanPositiony,pacmanPositionx)
                world[y][x - 1] = 5
                world[y][x] = 0
                pacmanPositiony = pacmanPositiony - 1
            }

            //Up
            if (y > 1 && world[y - 1][x] != 2 && moveTo == 87) {
                console.log(pacmanPositiony,pacmanPositionx)
                world[y - 1][x] = 6
                world[y][x] = 0
                pacmanPositionx = pacmanPositionx - 1
            }

            //Down
            if (y < 6 && world[y + 1][x] != 2 && moveTo == 83) {
                console.log(pacmanPositiony,pacmanPositionx)
                world[y + 1][x] = 7
                world[y][x] = 0
                pacmanPositionx = pacmanPositionx + 1
            }
            displayWorld();

        }

        displayWorld();

        //function sleep(milliseconds) { 
        //    var start = new Date().getTime(); 
        //    for (var i = 0; i < 1e7; i++) { 
        //        if ((new Date().getTime() - start) > milliseconds) { 
        //           break;}
        //    }
        //}

        $(document).on('keypress', function (e) {

            //move to right (with D)
            if (e.which == 68) {
                movePacman(68, pacmanPositionx, pacmanPositiony);
                
            }
            //move to left (with A)
            if (e.which == 65) {
                movePacman(65, pacmanPositionx, pacmanPositiony);
            }
            //move to up (with W)
            if (e.which == 87) {
                movePacman(87, pacmanPositionx, pacmanPositiony);
            }
            //move to down (with S)
            if (e.which == 83) {
                movePacman(83, pacmanPositionx, pacmanPositiony);

            }
        });









    </script>


</body>

</html>