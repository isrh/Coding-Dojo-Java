<html>

<head>
    <title> Pacman Game </title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>


</head>

<body>

    <div id='container'>

        <div id='world'></div>
        <div id='score'>0</div>

        

    </div>

    
    
    <script type="text/javascript">

        var myVar

        var world = [
            [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,2,2,2,2,2,2,2,2],
            [2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,1,1,1,1,1,1,1,2],
            [2, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 2,2,2,1,2,1,2,3,2],
            [2, 1, 2, 2, 2, 1, 2, 2, 2, 1, 2, 2, 2, 1, 2, 2, 2, 1, 2,2,2,1,2,2,2,1,2],
            [2, 1, 2, 2, 2, 1, 2, 2, 2, 1, 2, 1, 1, 1, 2, 1, 2, 1, 2,1,2,1,2,2,2,1,2],
            [2, 1, 2, 1, 1, 1, 2, 1, 2, 1, 2, 2, 2, 1, 2, 1, 2, 1, 2,1,2,1,2,1,2,1,2],
            [2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,1,1,1,1,1,1,1,2],
            [2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,1,1,1,1,1,1,1,2],
            [2, 1, 2, 4, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2,2,2,1,1,1,1,1,2],
            [2, 1, 2, 2, 2, 1, 2, 2, 2, 1, 2, 2, 2, 1, 2, 1, 2, 1, 2,1,1,1,1,1,1,1,2],
            [2, 1, 1, 1, 1, 1, 2, 1, 1, 1, 2, 2, 2, 1, 2, 2, 2, 1, 2,2,1,1,1,1,1,1,2],
            [2, 1, 1, 1, 1, 1, 2, 2, 2, 1, 2, 1, 2, 1, 2, 3, 2, 1, 2,1,1,1,1,1,1,1,2],
            [2, 1, 1, 1, 1, 1, 2, 2, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2,2,2,1,1,1,1,1,2],
            [2, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,1,1,1,1,1,1,3,2],
            [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,2,2,2,2,2,2,2,2],
        ];

        var pacman= {

            x:3,
            y:8
        }

        var score = 0

        function displayWorld() {

            var output = ""

            for (var i = 0; i < world.length; i++) {

                output += '\n <div class="row">';

                for (var j = 0; j < world[i].length; j++) {

                    if (world[i][j] == 2) {
                        output += '\n\t<div class="brick"></div>';
                    }

                    if (world[i][j] == 1) {
                        output += '\n\t<div class="coin"></div>';
                    }
                    if (world[i][j] == 0) {
                        output += '\n\t<div class="empty"></div>';
                    }

                    if (world[i][j] ==3){
                        output += '\n\t<div class="cherry"></div>';
                    }

                    if (world[i][j] == 4) {
                        
                        output += '\n\t<div class="pacmanRight"></div>';
                    }

                    if (world[i][j] == 5) {
                        
                        output += '\n\t<div class="pacmanLeft"></div>';
                    }

                    if (world[i][j] == 6) {
                        
                        output += '\n\t<div class="pacmanUp"></div>';
                    }

                    if (world[i][j] == 7) {
                        
                        output += '\n\t<div class="pacmanDown"></div>';
                    }

                }
                output += '\n </div>';


            }

            document.getElementById('world').innerHTML = output;
        }

        function displayScore(){
            document.getElementById('score').innerHTML = score;

        }
        displayWorld();
        displayWorld();
    
        //function sleep(milliseconds) { 
        //    var start = new Date().getTime(); 
        //    for (var i = 0; i < 1e7; i++) { 
        //        if ((new Date().getTime() - start) > milliseconds) { 
        //           break;}
        //    }
        //}

        $(document).on('keypress', function (e) {
            //move to right (with D)
            if (e.which == 68) {

                if(world[pacman.y][pacman.x+1]!=2){

                    if(world[pacman.y][pacman.x+1]==1){
                        score=score+10
                    }

                    if(world[pacman.y][pacman.x+1]==3){
                        score=score+50
                    }

                    console.log(pacman.x, pacman.y)
                    world[pacman.y][pacman.x] = 0
                    pacman.x += 1
                    world[pacman.y][pacman.x] = 4
                    displayWorld();
                    displayScore();

                }                                
            }
            //move to left (with A)
            else if (e.which == 65) {

                if(world[pacman.y][pacman.x-1]!=2){

                    if(world[pacman.y][pacman.x-1]==1){
                        score=score+10
                    }

                    if(world[pacman.y][pacman.x-1]==3){
                        score=score+50
                    }

                    console.log(pacman.x, pacman.y)
                    world[pacman.y][pacman.x] = 0
                    pacman.x += -1
                    world[pacman.y][pacman.x] = 5
                    displayWorld();
                    displayScore();

                }                
            }
            //move to up (with W)
            else if (e.which == 87) {

                if(world[pacman.y-1][pacman.x]!=2){

                    if(world[pacman.y-1][pacman.x]==1){
                        score=score+10
                    }

                    if(world[pacman.y-1][pacman.x]==3){
                        score=score+50
                    }

                    console.log(pacman.x, pacman.y)
                    world[pacman.y][pacman.x] = 0
                    pacman.y += -1
                    world[pacman.y][pacman.x] = 6
                    displayWorld();
                    displayScore();
                }
            }
            //move to down (with S)
            else if (e.which == 83) {

                if(world[pacman.y+1][pacman.x]!=2){

                    if(world[pacman.y+1][pacman.x]==1){
                        score=score+10
                    }

                    if(world[pacman.y+1][pacman.x]==3){
                        score=score+50
                    }

                    console.log(pacman.x, pacman.y)
                    world[pacman.y][pacman.x] = 0
                    pacman.y += 1
                    world[pacman.y][pacman.x] = 7
                    displayWorld();
                    displayScore();
                }

            }
        });









    </script>


</body>

</html>